<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Selector</title>
    <style>
        .product {
            display: inline-block;
            margin: 20px;
            text-align: center;
        }
        .product img {
            width: 150px;
            height: 150px;
            cursor: pointer;
        }
        .product p {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Product Selector</h1>
    <div id="productContainer"></div>

    <script>
        // Function to fetch and parse product data from an XML file
        async function fetchProducts() {
            const response = await fetch('products.xml');
            const text = await response.text();
            const productDoc = new DOMParser().parseFromString(text, "application/xml");
            return Array.from(productDoc.getElementsByTagName("product"));
        }

        // Function to display products dynamically
        async function displayProducts() {
            const products = await fetchProducts();
            const productContainer = document.getElementById('productContainer');

            products.forEach(product => {
                const productId = product.getAttribute('id');
                const name = product.getElementsByTagName('name')[0].textContent;
                const image = product.getElementsByTagName('image')[0].textContent;

                const productDiv = document.createElement('div');
                productDiv.className = 'product';
                productDiv.innerHTML = `
                    <img src="${image}" alt="${name}" data-id="${productId}" />
                    <p>${name}</p>
                `;

                // Add an event listener to redirect to the selector page with the product ID
                productDiv.querySelector('img').addEventListener('click', () => {
                    window.location.href = `selector.html?productId=${productId}`;
                });

                productContainer.appendChild(productDiv);
            });
        }

        // Call displayProducts function to load and display products when the page is ready
        displayProducts();
    </script>
</body>
</html>